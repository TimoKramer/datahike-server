#+TITLE:   About the petit-bistrot in Fulcro project
#+DATE:    April 16, 2020
#+SINCE:   {replace with next tagged release version}
#+STARTUP: inlineimages nofold

* Table of Contents :TOC_3:noexport:
- [[#quick-start][Quick start]]
  - [[#server-ie-clj-side][SERVER, i.e. Clj side]]
  - [[#client-cljs][CLIENT, cljs]]
- [[#list][LIST]]
  - [[#need-to-restore-the-server-code-and-its-config][Need to restore the server code and its config]]
  - [[#change-the-renderer-to-what-they-suggest-in-the-slack-channel][Change the renderer to what they suggest in the slack channel]]
  - [[#deploy-to-see-whether-css-works][Deploy! To see whether css works.]]
  - [[#make-login-work-first-watch-video-about-session-on-fulcro][Make login work (first watch video about session on fulcro)]]
  - [[#fix-the-look][Fix the look]]
  - [[#make-backend-work][Make backend work]]
    - [[#use-datomic-as-backend][Use datomic as backend]]
    - [[#make-the-beckend-frontend-communication-work][Make the beckend-frontend communication work]]
- [[#refs][Refs]]
  - [[#fulcro-with-react-high-order-component-hoc][fulcro with React high order component (HOC):]]
- [[#learned][Learned]]
- [[#potential-issues][Potential issues?]]
  - [[#i-have-upgrade-the-react-verision][I have upgrade the react verision]]

* Quick start
** SERVER, i.e. Clj side
- clj -A:dev:cider-clj -J-Dtrace -J-Dghostwheel.enabled=true
- then in emacs in the project:
  - cider-connect | localhost | <the port it suggests>
  - in the repl: user> (start)
  - in the browser: localhost3000/index.html   (the index.html is important)
  - If restart needed after compilation pblm:
    - (tools-ns/refresh)
    - (start)
** CLIENT, cljs
- cider-jack-in-cljs
  - (This will execute: - npx shadow-cljs server followed by '(shadow/repl :main)') (Use this rather on IntelliJ)
  - Always choose options related to 'shadow'
- You might need to compile the js code here: http://localhost:9630
- The http server is here: http://localhost:8000/
- The nrepl is server in port 9000


* TODO LIST

** Need to restore the server code and its config
** Change the renderer to what they suggest in the slack channel

** [#C] Deploy! To see whether css works.

** [#A] Make login work (first watch video about session on fulcro)
** Fix the look


** Make backend work

*** Use datomic as backend

*** Make the beckend-frontend communication work

* Refs

** fulcro with React high order component (HOC):
http://book.fulcrologic.com/#_fulcro_and_react_hoc

* Learned
Evaluate the comments part of client.cljs and it will show how to modify the state of the application.

* Potential issues?

** I have upgrade the react verision
-        "react": "^16.6.8",
-        "react-dom": "^16.6.8",
+        "react": "^16.13.1",
+        "react-dom": "^16.13.1",
